<div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="/d2l/common/dialogs/quickLink/quickLink.d2l?ou={orgUnitId}&amp;type=coursefile&amp;fileId=studentPhones%2ftest.js" target="_self"></script>
</div>

<div id="phoneWrapper" style="overflow-y: scroll; display: none; height: 400px;">
    <h1 style="font-size: 23pt;">Student Phone Numbers</h1>
    <table>
        <thead>
            <tr>
                <th style="width: 250px;">Name Last, First</th>
                <th>Phone Number</th>
            </tr>
        </thead>
        <tbody id="studentInfo">
        </tbody>
    </table>
</div>

<script>
    //generates the html table in the widget
    function generateTable() {
        if (course != undefined) {
            //$('#phoneWrapper').toggleClass('hidden');
            $('#phoneWrapper').css({
                display: 'block'
            });

            var row;
            course.students.forEach(function(student) {
                row = "<tr><td>" + student.name + "</td><td>" + student.phone + "</td></tr>";
                $(row).appendTo('tbody#studentInfo');
            });
        } else {
            console.log('course data could not be found');
        }
    }

    $(document).ready(generateTable);
</script>